<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Editable CV & Cover Letter (Preview + Download)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f1f1f1;
  padding: 30px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.page {
  background: white;
  width: 210mm;
  min-height: 297mm;
  padding: 20mm;
  margin-bottom: 20px;
  box-shadow: 0 0 10px rgba(0,0,0,0.15);
  border-radius: 4px;
  box-sizing: border-box;
}

h2 {
  font-size: 13pt;
  font-weight: bold;
  border-bottom: 1px dashed #999;
  padding-bottom: 4px;
  margin-top: 18px;
  margin-bottom: 8px;
  color: #222;
}

textarea {
  width: 100%;
  border: none;
  resize: none;
  outline: none;
  font-family: Arial, sans-serif;
  font-size: 12pt;
  color: #333;
  line-height: 1.5;
  min-height: 80px;
  background: transparent;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  border-bottom: 2px solid #999;
  padding-bottom: 10px;
  margin-bottom: 15px;
}

.header-left {
  font-size: 22pt;
  font-weight: bold;
  color: #111;
}

.header-right {
  text-align: right;
  font-size: 11pt;
  color: #333;
  line-height: 1.4;
}

button {
  background: #444;
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13pt;
  margin-top: 10px;
  margin-right: 10px;
  transition: 0.3s;
}
button:hover {
  background: #000;
}

#previewContainer {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.75);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}
#previewContainer img {
  max-width: 90%;
  max-height: 90%;
  border: 5px solid #fff;
  border-radius: 8px;
}
#closePreview {
  position: absolute;
  top: 30px;
  right: 40px;
  background: #fff;
  color: #000;
  padding: 10px 20px;
  font-size: 14pt;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
</style>
</head>
<body>

<!-- CV PAGE -->
<div class="page" id="cv-page">
  <div class="header">
    <div class="header-left" contenteditable="true">John Smith</div>
    <div class="header-right" contenteditable="true">
      üìû 1 800 433 7300<br>
      ‚úâÔ∏è john.smith@gmail.com<br>
      üìç New York, USA
    </div>
  </div>

  <h2>Professional Summary</h2>
  <textarea>I am a dedicated and results-driven professional with strong experience in marketing, content creation, and brand development. Skilled in social media management, analytics, and project leadership.</textarea>

  <h2>Experience</h2>
  <textarea>Digital Marketing Specialist ‚Äî XYZ Company
Managed social media accounts, increasing engagement by 35%.
Created ad campaigns and optimized SEO performance.

Software Developer ‚Äî ABC Tech
Developed internal tools using Python and JavaScript.
Collaborated with design teams to improve user experience.</textarea>

  <h2>Education</h2>
  <textarea>Master‚Äôs Degree in Marketing ‚Äî Columbia University, 2024
Bachelor‚Äôs Degree in Business Administration ‚Äî New York University, 2022</textarea>

  <h2>Languages</h2>
  <textarea>English ‚Äî Fluent
Spanish ‚Äî Native</textarea>

  <h2>Software Skills</h2>
  <textarea>Microsoft Office Suite ‚Äî Word, Excel, PowerPoint
Adobe Creative Suite ‚Äî Photoshop, Illustrator, InDesign</textarea>

  <h2>Hobbies & Interests</h2>
  <textarea>Reading, Personal Development, Fitness, and Football.</textarea>
</div>

<!-- COVER LETTER PAGE -->
<div class="page" id="letter-page">
  <div class="header">
    <div class="header-left" contenteditable="true">John Smith</div>
    <div class="header-right" contenteditable="true">
      üìû 1 800 433 7300<br>
      ‚úâÔ∏è john.smith@gmail.com<br>
      üìç New York, USA
    </div>
  </div>

  <textarea style="min-height: 200mm;">
Dear Hiring Manager,

I am writing to express my strong interest in the Marketing Assistant position at XYZ Company. Over the past several years, I have developed a deep passion for digital marketing and brand strategy, working on multiple campaigns that have significantly increased engagement and conversions.

My experience includes managing social media channels, analyzing performance metrics, and developing creative campaigns that align with company goals. I take pride in my ability to adapt to fast-paced environments, collaborate effectively, and contribute innovative ideas to help organizations grow.

I am confident that my blend of technical expertise and creativity makes me a valuable addition to your team. I look forward to the opportunity to discuss how my background and skills can support your company's objectives.

Sincerely,
John Smith
  </textarea>
</div>

<div>
  <button onclick="previewPage('cv-page')">üëÅÔ∏è Preview CV</button>
  <button onclick="previewPage('letter-page')">üëÅÔ∏è Preview Letter</button>
  <button onclick="downloadSinglePDF('cv-page','CV_John_Smith.pdf')">‚¨áÔ∏è Download CV PDF</button>
  <button onclick="downloadSinglePDF('letter-page','Cover_Letter_John_Smith.pdf')">‚¨áÔ∏è Download Letter PDF</button>
</div>

<div id="previewContainer">
  <button id="closePreview" onclick="closePreview()">‚úñ Close Preview</button>
  <img id="previewImage" src="">
</div>

<script>
async function downloadSinglePDF(elementId, filename) {
  const { jsPDF } = window.jspdf;
  const element = document.getElementById(elementId);
  const canvas = await html2canvas(element, { scale: 2 });
  const imgData = canvas.toDataURL('image/png');
  const pdf = new jsPDF('p', 'mm', 'a4');
  const pdfWidth = pdf.internal.pageSize.getWidth() - 20;
  const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
  pdf.addImage(imgData, 'PNG', 10, 10, pdfWidth, pdfHeight);
  pdf.save(filename);
}

async function previewPage(elementId) {
  const element = document.getElementById(elementId);
  const canvas = await html2canvas(element, { scale: 1.5 });
  const img = canvas.toDataURL('image/png');
  document.getElementById("previewImage").src = img;
  document.getElementById("previewContainer").style.display = "flex";
}

function closePreview() {
  document.getElementById("previewContainer").style.display = "none";
}
</script>

</body>
</html>
