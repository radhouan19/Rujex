<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rujex Pro CV — Free Resume Builder (USA Templates)</title>
<meta name="description" content="Create American-style resumes: multiple templates, preview and download PDF. Free, fast, and privacy-first." />
<meta name="keywords" content="resume builder, american resume, cv templates, download pdf resume, free resume builder" />
<style>
:root{--blue:#0b4da2;--accent:#ff6b6b;--muted:#6b7280;--card:#fff;--maxwidth:1100px}
*{box-sizing:border-box}body{font-family:Inter,Segoe UI,Arial,sans-serif;margin:0;background:#f8fafc;color:#0f1724}
.header{background:linear-gradient(90deg,var(--blue),#0f6bd8);color:#fff;padding:18px 14px}
.header .wrap{max-width:var(--maxwidth);margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:12px}
.header h1{margin:0;font-size:1.25rem}
.header nav{display:flex;gap:8px}
.nav-btn{background:transparent;border:none;color:#fff;font-weight:600;cursor:pointer;padding:8px 10px;border-radius:8px}
.main{max-width:var(--maxwidth);margin:20px auto;padding:14px}
.grid{display:grid;grid-template-columns:1fr 420px;gap:18px}
.card{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 6px 28px rgba(11,77,162,0.06)}
.label{display:block;font-weight:700;margin-bottom:6px}
.input,textarea,select{width:100%;padding:9px;border-radius:8px;border:1px solid #e6eef8;margin-bottom:10px;font-size:0.95rem}
.small{color:var(--muted);font-size:0.95rem}
.btn{background:var(--accent);color:#fff;padding:10px 12px;border:none;border-radius:10px;cursor:pointer;font-weight:700}
.btn.secondary{background:var(--blue)}
.row{display:flex;gap:8px;align-items:center}
.preview{background:#f0f8ff;padding:12px;border-radius:8px;border:1px dashed #cbd5e1;min-height:220px;max-height:560px;overflow:auto}
.resume{background:#fff;padding:14px;border-radius:8px;border:1px solid #eef2ff}
.field-actions{display:flex;gap:6px;margin-bottom:8px}
.add-btn{background:#10b981;color:#fff;border:none;padding:6px 8px;border-radius:8px;cursor:pointer}
.remove-btn{background:#ef4444;color:#fff;border:none;padding:6px 8px;border-radius:8px;cursor:pointer}
.footer{text-align:center;color:var(--muted);font-size:0.9rem;margin:24px 0}
.banner-wrap{text-align:center;margin-top:16px}
@media(max-width:980px){.grid{grid-template-columns:1fr}.header .wrap{flex-direction:column;align-items:flex-start}}
</style>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<header class="header">
  <div class="wrap">
    <div>
      <h1>Rujex Pro CV</h1>
      <div class="small">American-style resume templates — preview & download PDF (free)</div>
    </div>
    <nav>
      <button class="nav-btn" data-target="home">Home</button>
      <button class="nav-btn" data-target="about">About</button>
      <button class="nav-btn" data-target="privacy">Privacy</button>
      <button class="nav-btn" data-target="contact">Contact</button>
    </nav>
  </div>
</header>

<main class="main" id="app">
  <!-- HOME -->
  <section id="home" class="section">
    <div class="grid">
      <!-- Builder -->
      <div class="card">
        <h2>Create American-style Resume</h2>
        <p class="small">Choose a template, fill the fields below, then Preview or Download. Ads will show before preview/download.</p>

        <label class="label">Template</label>
        <select id="templateSelect" class="input">
          <option value="modern">Modern (clean)</option>
          <option value="classic">Classic (traditional)</option>
          <option value="creative">Creative (bold header)</option>
        </select>

        <label class="label">Full name</label><input id="fullName" class="input" placeholder="Jane Doe" autocomplete="name">
        <label class="label">Email</label><input id="email" class="input" placeholder="jane.doe@example.com" autocomplete="email">
        <label class="label">Phone</label><input id="phone" class="input" placeholder="(555) 555-5555">
        <label class="label">City, State, ZIP</label><input id="location" class="input" placeholder="Los Angeles, CA 90001">
        <label class="label">LinkedIn / Portfolio (optional)</label><input id="linkedin" class="input" placeholder="https://linkedin.com/in/janedoe">
        <label class="label">Professional Title</label><input id="title" class="input" placeholder="Senior Product Manager">

        <label class="label">Summary / Objective</label><textarea id="summary" class="input" rows="3" placeholder="2-3 sentence professional summary"></textarea>

        <!-- Experience -->
        <div style="margin-top:8px; display:flex;justify-content:space-between;align-items:center">
          <div><strong>Experience</strong></div>
          <div class="field-actions"><button id="addExp" class="add-btn">+ Add</button></div>
        </div>
        <div id="expList"></div>

        <!-- Education -->
        <div style="margin-top:8px; display:flex;justify-content:space-between;align-items:center">
          <div><strong>Education</strong></div>
          <div class="field-actions"><button id="addEdu" class="add-btn">+ Add</button></div>
        </div>
        <div id="eduList"></div>

        <label class="label">Skills (comma separated)</label><input id="skills" class="input" placeholder="JavaScript, Product, SQL, Leadership">

        <label class="label">Certifications (comma separated)</label><input id="certs" class="input" placeholder="PMP, AWS Certified">

        <div class="row" style="margin-top:10px">
          <button id="previewBtn" class="btn">Preview (Show Ad)</button>
          <button id="downloadBtn" class="btn secondary">Download PDF (Show Ad)</button>
          <button id="saveBtn" class="btn" style="background:#64748b">Save (local)</button>
        </div>

        <div class="small" style="margin-top:10px">Tip: Fill multiple experience blocks to reflect US-style bullets (Company | Role | 2019–2023 | Achievement).</div>
      </div>

      <!-- Preview & Sidebar -->
      <aside>
        <div class="card">
          <h3>Preview</h3>
          <div id="preview" class="preview" aria-live="polite">
            <div class="small">Click "Preview" to render your resume using selected template.</div>
          </div>
        </div>

        <div style="height:12px"></div>

        <div class="card">
          <h4>Why US-style CV?</h4>
          <p class="small">Clear contact info, focused summary, concise achievements and keywords for ATS compatibility.</p>
        </div>
      </aside>
    </div>

    <!-- Banner -->
    <div class="banner-wrap">
      <div id="ad-banner"></div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="section" style="display:none">
    <div class="card" style="max-width:980px;margin:0 auto">
      <h2>About Rujex Pro CV</h2>
      <p class="small">Rujex Pro CV provides several American-style resume templates. All data stays in your browser. Ads support the free service.</p>
    </div>
  </section>

  <!-- PRIVACY -->
  <section id="privacy" class="section" style="display:none">
    <div class="card" style="max-width:980px;margin:0 auto">
      <h2>Privacy Policy</h2>
      <p class="small">This tool stores data locally in your browser only. No server upload. Ads are served by third parties (Adsterra).</p>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="section" style="display:none">
    <div class="card" style="max-width:980px;margin:0 auto">
      <h2>Contact</h2>
      <p class="small">Support: <a href="mailto:mrguettafradhouan@gmail.com">mrguettafradhouan@gmail.com</a></p>
      <p class="small">Powered by Rujex Pro CV — Free Resume Builder</p>
    </div>
  </section>
</main>

<footer class="footer">© 2025 Rujex Pro CV — Free Resume Builder</footer>

<!-- -------- Adsterra snippets -------- -->
<!-- Popunder file will be injected dynamically when user clicks preview/download -->
<!-- Banner setup (Adsterra) -->
<script type="text/javascript">
  atOptions = {
    'key' : 'c75931fa51a9da29fcabfc423bfe7608',
    'format' : 'iframe',
    'height' : 60,
    'width' : 468,
    'params' : {}
  };
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/c75931fa51a9da29fcabfc423bfe7608/invoke.js"></script>

<script>
/* ---------- Config ---------- */
const POPUNDER_SRC = "//pl27907857.effectivegatecpm.com/6a/71/d5/6a71d5e33ff49f9f240baf362afebc46.js";

/* ---------- SPA nav ---------- */
document.querySelectorAll('.nav-btn').forEach(b=>{
  b.addEventListener('click', ()=> {
    const t = b.dataset.target;
    document.querySelectorAll('.section').forEach(s=>s.style.display='none');
    document.getElementById(t).style.display='block';
    window.scrollTo({top:0,behavior:'smooth'});
  });
});

/* ---------- Dynamic fields ---------- */
function createExpBlock(data){
  const id = 'exp_' + Date.now() + Math.floor(Math.random()*1000);
  const wrap = document.createElement('div');
  wrap.id = id;
  wrap.style.marginBottom = '10px';
  wrap.innerHTML = `
    <input class="input" placeholder="Company | Role | 2019-2023 | Achievements (bullet one; ; bullet two)" />
    <div style="display:flex;gap:8px;margin-top:6px">
      <button class="remove-btn">Remove</button>
    </div>
  `;
  const input = wrap.querySelector('input');
  if(data) input.value = data;
  wrap.querySelector('.remove-btn').addEventListener('click', ()=>wrap.remove());
  return wrap;
}
function createEduBlock(data){
  const id = 'edu_' + Date.now() + Math.floor(Math.random()*1000);
  const wrap = document.createElement('div');
  wrap.id = id;
  wrap.style.marginBottom = '10px';
  wrap.innerHTML = `
    <input class="input" placeholder="Degree | School | Year" />
    <div style="display:flex;gap:8px;margin-top:6px">
      <button class="remove-btn">Remove</button>
    </div>
  `;
  const input = wrap.querySelector('input');
  if(data) input.value = data;
  wrap.querySelector('.remove-btn').addEventListener('click', ()=>wrap.remove());
  return wrap;
}
document.getElementById('addExp').addEventListener('click', ()=> {
  const n = createExpBlock(); document.getElementById('expList').appendChild(n);
});
document.getElementById('addEdu').addEventListener('click', ()=> {
  const n = createEduBlock(); document.getElementById('eduList').appendChild(n);
});

/* Pre-populate one block for convenience */
document.getElementById('expList').appendChild(createExpBlock());
document.getElementById('eduList').appendChild(createEduBlock());

/* ---------- Save / Load local ---------- */
function saveLocal(data){ try{ localStorage.setItem('rujex_procv_full', JSON.stringify(data)); }catch(e){} }
function loadLocal(){
  try{ return JSON.parse(localStorage.getItem('rujex_procv_full')||'null'); }catch(e){return null}
}
function populateFromLocal(){
  const obj = loadLocal();
  if(!obj) return;
  $('fullName').value = obj.name||'';
  $('email').value = obj.email||'';
  $('phone').value = obj.phone||'';
  $('location').value = obj.location||'';
  $('linkedin').value = obj.linkedin||'';
  $('title').value = obj.title||'';
  $('summary').value = obj.summary||'';
  $('skills').value = obj.skills||'';
  $('certs').value = obj.certs||'';
  // clear lists
  document.getElementById('expList').innerHTML = '';
  (obj.experience||[]).forEach(e=>document.getElementById('expList').appendChild(createExpBlock(e)));
  document.getElementById('eduList').innerHTML = '';
  (obj.education||[]).forEach(e=>document.getElementById('eduList').appendChild(createEduBlock(e)));
}
populateFromLocal();

function collectData(){
  const experience = Array.from(document.getElementById('expList').querySelectorAll('input')).map(i=>i.value.trim()).filter(Boolean);
  const education = Array.from(document.getElementById('eduList').querySelectorAll('input')).map(i=>i.value.trim()).filter(Boolean);
  return {
    template: document.getElementById('templateSelect').value,
    name: document.getElementById('fullName').value.trim(),
    email: document.getElementById('email').value.trim(),
    phone: document.getElementById('phone').value.trim(),
    location: document.getElementById('location').value.trim(),
    linkedin: document.getElementById('linkedin').value.trim(),
    title: document.getElementById('title').value.trim(),
    summary: document.getElementById('summary').value.trim(),
    experience, education,
    skills: document.getElementById('skills').value.trim(),
    certs: document.getElementById('certs') ? document.getElementById('certs').value.trim() : ''
  };
}

/* Render preview depending on template */
function renderPreview(data){
  if(!data.name){ $('preview').innerHTML = '<div class="small">Please fill your name and click Preview.</div>'; return; }
  let html = '';
  if(data.template === 'modern'){
    html = `
      <div class="resume">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div style="font-size:1.05rem;font-weight:800;color:var(--blue)">${escapeHtml(data.name)}</div>
            <div style="color:#475569">${escapeHtml(data.title)}</div>
            <div style="color:#475569;margin-top:6px">${escapeHtml(data.location)} · ${escapeHtml(data.phone)} · ${escapeHtml(data.email)}</div>
          </div>
          <div style="text-align:right;color:#475569">${escapeHtml(data.linkedin)}</div>
        </div>
        <hr style="margin:10px 0;border:none;border-top:1px solid #eef2ff" />
        <div><strong>Summary</strong><div>${escapeHtml(data.summary)}</div></div>
        <div style="margin-top:8px"><strong>Experience</strong><ul>${data.experience.map(e=>`<li>${escapeHtml(e)}</li>`).join('')}</ul></div>
        <div style="margin-top:8px"><strong>Education</strong><ul>${data.education.map(e=>`<li>${escapeHtml(e)}</li>`).join('')}</ul></div>
        <div style="margin-top:8px"><strong>Skills</strong><div>${escapeHtml(data.skills)}</div></div>
        <div style="margin-top:8px"><strong>Certifications</strong><div>${escapeHtml(data.certs)}</div></div>
      </div>
    `;
  } else if(data.template === 'classic'){
    html = `
      <div class="resume" style="font-family:Georgia, serif">
        <div style="text-align:center">
          <div style="font-size:1.1rem;font-weight:800">${escapeHtml(data.name)}</div>
          <div style="color:#475569">${escapeHtml(data.title)} · ${escapeHtml(data.location)}</div>
          <div style="color:#475569;margin-top:6px">${escapeHtml(data.phone)} · ${escapeHtml(data.email)} · ${escapeHtml(data.linkedin)}</div>
        </div>
        <hr style="margin:10px 0;border:none;border-top:1px solid #eee" />
        <div><strong>Professional Summary</strong><div>${escapeHtml(data.summary)}</div></div>
        <div style="margin-top:8px"><strong>Work Experience</strong>${data.experience.map(e=>`<div style="margin:6px 0">• ${escapeHtml(e)}</div>`).join('')}</div>
        <div style="margin-top:8px"><strong>Education</strong>${data.education.map(e=>`<div style="margin:6px 0">${escapeHtml(e)}</div>`).join('')}</div>
        <div style="margin-top:8px"><strong>Skills</strong><div>${escapeHtml(data.skills)}</div></div>
      </div>
    `;
  } else { // creative
    html = `
      <div class="resume" style="border-left:6px solid var(--blue);padding-left:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div style="font-size:1.05rem;font-weight:800">${escapeHtml(data.name)}</div>
            <div style="color:#475569">${escapeHtml(data.title)}</div>
          </div>
        </div>
        <div style="margin-top:8px;color:#475569">${escapeHtml(data.location)} · ${escapeHtml(data.phone)} · ${escapeHtml(data.email)}</div>
        <hr style="margin:10px 0;border:none;border-top:1px solid #eef2ff" />
        <div><strong>About</strong><div>${escapeHtml(data.summary)}</div></div>
        <div style="margin-top:8px"><strong>Experience</strong><ul>${data.experience.map(e=>`<li>${escapeHtml(e)}</li>`).join('')}</ul></div>
        <div style="margin-top:8px"><strong>Education</strong><div>${escapeHtml(data.education.join(', '))}</div></div>
        <div style="margin-top:8px"><strong>Skills</strong><div>${escapeHtml(data.skills)}</div></div>
      </div>
    `;
  }
  $('preview').innerHTML = html;
}

/* ---------- Popunder injection ---------- */
function triggerPopunder(){
  try{
    const s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = POPUNDER_SRC;
    s.async = true;
    document.body.appendChild(s);
    setTimeout(()=>{ if(s && s.parentNode) s.parentNode.removeChild(s); }, 15000);
  }catch(e){ console.warn('Popunder inject failed', e); }
}

/* ---------- PDF generation ---------- */
async function generatePDF(data){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({ unit:'pt', format:'a4' });
  const left = 40;
  let y = 56;
  doc.setFontSize(18); doc.setTextColor(11,77,162); doc.text(data.name || '', left, y);
  doc.setFontSize(11); doc.setTextColor(60,60,60); y+=20; doc.text(data.title || '', left, y);
  y+=16; doc.setDrawColor(230,238,255); doc.line(left,y,560,y); y+=16;
  doc.setFontSize(11); doc.text('Contact', left, y); y+=14;
  doc.setFontSize(10); doc.text(`${data.email} · ${data.phone} · ${data.location}`, left, y); y+=18;
  if(data.summary){ doc.setFontSize(11); doc.text('Summary', left, y); y+=14; doc.setFontSize(10); const s = doc.splitTextToSize(data.summary,520); doc.text(s, left, y); y += s.length*14 + 6; }
  if(data.experience && data.experience.length){
    doc.setFontSize(11); doc.text('Experience', left, y); y+=14; doc.setFontSize(10);
    data.experience.forEach(line=>{
      const lines = doc.splitTextToSize('• ' + line, 520);
      doc.text(lines, left, y);
      y += lines.length*14;
      if(y > 720){ doc.addPage(); y = 40; }
    });
    y += 8;
  }
  if(data.education && data.education.length){
    doc.setFontSize(11); doc.text('Education', left, y); y+=14; doc.setFontSize(10);
    data.education.forEach(line=>{
      const lines = doc.splitTextToSize(line, 520);
      doc.text(lines, left, y); y += lines.length*14;
      if(y > 720){ doc.addPage(); y = 40; }
    });
    y += 8;
  }
  if(data.skills){ doc.setFontSize(11); doc.text('Skills', left, y); y+=14; doc.setFontSize(10); doc.text(data.skills, left, y); y+=18; }
  if(data.certs){ doc.setFontSize(11); doc.text('Certifications', left, y); y+=14; doc.setFontSize(10); doc.text(data.certs, left, y); y+=18; }
  doc.setFontSize(9); doc.setTextColor(140,149,160); doc.text('Generated with Rujex Pro CV', left, 780);
  return doc;
}

/* ---------- Button handlers ---------- */
$('previewBtn').addEventListener('click', ()=> {
  const data = collectData();
  saveLocal(data);
  // show banner already exists. inject popunder then render preview
  triggerPopunder();
  setTimeout(()=> renderPreview(data), 400);
});

$('downloadBtn').addEventListener('click', async ()=> {
  const data = collectData();
  if(!data.name){ alert('Please enter your full name before downloading.'); return; }
  saveLocal(data);
  // trigger popunder ad
  triggerPopunder();
  // slight delay then generate pdf
  setTimeout(async ()=>{
    try{
      const doc = await generatePDF(data);
      const filename = (data.name || 'Rujex') + '_CV.pdf';
      doc.save(filename);
      $('preview').innerHTML = `<div class="resume"><div style="font-weight:700;color:var(--blue)">Download started — check your downloads folder.</div><div class="small" style="margin-top:8px">If nothing downloaded, try again or check your browser popup settings.</div></div>`;
    }catch(e){
      alert('Error generating PDF. Please try again.');
      console.error(e);
    }
  }, 600);
});

/* Save local button */
$('saveBtn').addEventListener('click', ()=> {
  const d = collectData();
  saveLocal(d); alert('Saved locally in your browser.');
});

/* Helper $ */
function $(id){ return document.getElementById(id); }

/* Escape HTML helper */
function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

/* Insert initial banner handled at bottom by ad script loader (already in page) */

</script>

<!-- Note: banner already loaded above by Adsterra invoke script. Popunder is injected dynamically by triggerPopunder() -->

</body>
</html>
