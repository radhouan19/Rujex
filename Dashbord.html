<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Demo Booking Platform</title>
<style>
* { box-sizing:border-box; font-family:"Poppins",sans-serif; margin:0; padding:0; }
body { background:#f3f4f6; color:#111; }
section { display:none; min-height:100vh; padding:2rem; }
.active { display:block; }
header { background:#2563eb; color:white; text-align:center; padding:1.5rem; font-size:1.5rem; }
.container { max-width:700px; margin:auto; background:white; padding:2rem; border-radius:12px; box-shadow:0 5px 15px rgba(0,0,0,0.1); margin-top:2rem; }
h2 { margin-bottom:1rem; }
.btn { padding:.8rem 1.5rem; border:none; border-radius:8px; cursor:pointer; transition:.3s; margin:.2rem; font-weight:600; }
.btn-primary { background:#2563eb; color:white; }
.btn-primary:hover { background:#1e40af; }
.btn-copy { background:#22c55e; color:white; }
.btn-copy:hover { background:#16a34a; }
input, select { width:100%; padding:.8rem; margin:.5rem 0; border:1px solid #ccc; border-radius:8px; }
table { width:100%; border-collapse:collapse; margin-top:1rem; }
th, td { border:1px solid #ddd; padding:.8rem; text-align:left; }
th { background:#2563eb; color:white; }
tr:nth-child(even) { background:#f3f4f6; }
.link-box { display:flex; align-items:center; justify-content:space-between; background:#eef2ff; padding:.8rem 1rem; border-radius:8px; margin-top:1rem; border:1px solid #c7d2fe; }
.link-box input { width:80%; border:none; background:transparent; font-size:.95rem; color:#1e3a8a; }
</style>
</head>
<body>

<!-- Landing Page -->
<section id="landing" class="active">
  <div class="container" style="text-align:center;">
    <h1>Demo Booking Platform</h1>
    <p>Try the platform for free!</p>
    <button class="btn btn-primary" onclick="startDemo()">7 Days Free</button>
    <button class="btn btn-primary" onclick="alert('Sign Up Page Placeholder')">New User</button>
    <button class="btn btn-primary" onclick="alert('Login Page Placeholder')">Existing User</button>
  </div>
</section>

<!-- Dashboard Page -->
<section id="dashboard">
  <header>Demo Dashboard</header>
  <div class="container">
    <h2 id="businessName">Business Name</h2>
    
    <p>Share your booking link with customers:</p>
    <div class="link-box">
      <input id="shareLink" readonly>
      <button class="btn btn-copy" onclick="copyLink()">Copy</button>
    </div>

    <h3 style="margin-top:2rem;">Your Services</h3>
    <table>
      <thead><tr><th>Service</th><th>Price ($)</th></tr></thead>
      <tbody id="servicesTable"></tbody>
    </table>

    <h3 style="margin-top:2rem;">Customer Appointments</h3>
    <table>
      <thead><tr><th>Name</th><th>Email</th><th>Phone</th><th>Date</th><th>Service</th></tr></thead>
      <tbody id="bookingsTable">
        <tr><td colspan="5">No bookings yet (demo mode)</td></tr>
      </tbody>
    </table>
  </div>
</section>

<!-- Customer Booking Page -->
<section id="customerBooking">
  <div class="container">
    <h2 id="customerBusinessName">Book at Demo Salon</h2>
    <p style="margin-bottom:1rem;">Select a service, pick a date and enter your info:</p>

    <select id="cService"></select>
    <input id="cName" placeholder="Your Name">
    <input id="cEmail" placeholder="Your Email">
    <input id="cPhone" placeholder="Phone Number">
    <input id="cDate" type="datetime-local">
    <button class="btn btn-primary" onclick="submitBooking()">Book Now</button>
  </div>
</section>

<script>
// ---------- Utility ----------
function showSection(id) {
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
function copyLink() {
  const link = document.getElementById("shareLink");
  link.select();
  document.execCommand("copy");
  alert("Link copied!");
}

// ---------- Demo Data ----------
let demoBusiness = {
  name: "Demo Salon",
  slug: "demo-salon",
  services: [
    {name:"Haircut", price:25},
    {name:"Beard Trim", price:15},
    {name:"Hair Coloring", price:40}
  ],
  bookings: []
};

// ---------- Start Demo ----------
function startDemo() {
  showSection("dashboard");
  document.getElementById("businessName").textContent = demoBusiness.name;
  document.getElementById("shareLink").value = window.location.origin + "/?demo=" + demoBusiness.slug;
  renderServices();
  renderBookings();
}

// ---------- Render Services ----------
function renderServices() {
  const tbody = document.getElementById("servicesTable");
  tbody.innerHTML = "";
  demoBusiness.services.forEach(s => {
    tbody.innerHTML += `<tr><td>${s.name}</td><td>${s.price}</td></tr>`;
  });

  const sel = document.getElementById("cService");
  sel.innerHTML = "";
  demoBusiness.services.forEach((s,i)=>{
    sel.innerHTML += `<option value="${i}">${s.name} - $${s.price}</option>`;
  });
}

// ---------- Render Bookings ----------
function renderBookings() {
  const tbody = document.getElementById("bookingsTable");
  if(demoBusiness.bookings.length===0) {
    tbody.innerHTML = `<tr><td colspan="5">No bookings yet (demo mode)</td></tr>`;
    return;
  }
  tbody.innerHTML = "";
  demoBusiness.bookings.forEach(b=>{
    tbody.innerHTML += `<tr><td>${b.name}</td><td>${b.email}</td><td>${b.phone}</td><td>${b.date}</td><td>${b.service}</td></tr>`;
  });
}

// ---------- Booking ----------
function submitBooking() {
  const name = document.getElementById("cName").value.trim();
  const email = document.getElementById("cEmail").value.trim();
  const phone = document.getElementById("cPhone").value.trim();
  const date = document.getElementById("cDate").value;
  const serviceIndex = document.getElementById("cService").value;

  if(!name||!email||!phone||!date) return alert("Fill all fields");

  const service = demoBusiness.services[serviceIndex];
  demoBusiness.bookings.push({name,email,phone,date,service:service.name});
  alert("Booking confirmed!");

  renderBookings();
  showSection("dashboard");
}

// ---------- Customer link ----------
const params = new URLSearchParams(window.location.search);
if(params.get("demo")==demoBusiness.slug){
  showSection("customerBooking");
  document.getElementById("customerBusinessName").textContent = "Book at " + demoBusiness.name;
  renderServices();
}
</script>
</body>
</html>
